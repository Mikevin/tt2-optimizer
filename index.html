<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/app.css" />
	</head>
	<body>
		<div class="container-fluid">
			<div class="sticky-top border-bottom border-secondary">
				<ul class="nav nav-pills" id="navTab" role="tablist">
				  <li class="nav-item">
				    <a class="nav-link" id="style-tab" data-toggle="tab" href="#style" role="tab" aria-controls="style" aria-selected="false">Build</a>
				  </li>
				  <li class="nav-item">
				    <a class="nav-link" id="artifacts-tab" data-toggle="tab" href="#artifactab" role="tab" aria-controls="artifactab" aria-selected="false">Artifacts</a>
				  </li>
				  <li class="nav-item">
				    <a class="nav-link active" id="reccs-tab" data-toggle="tab" href="#reccs" role="tab" aria-controls="reccs" aria-selected="true">Relics</a>
				  </li>
					<li class="nav-item">
				    <a class="nav-link" id="sugg-tab" data-toggle="tab" href="#sugg" role="tab" aria-controls="sugg" aria-selected="true">Result</a>
				  </li>
				</ul>
				<h1 class="h4">TT2 Artifact Optimizer <span class="badge badge-secondary">2.6.x</span></h1>
			</div>
			<div class="tab-content" id="tabContent">
			  <div class="tab-pane fade" id="style" role="tabpanel" aria-labelledby="style-tab">
					<p>This tool is intended to help you determine how to best spend your relics to upgrade your artifacts based on your playstyle. It should help prioritize your best damage increasing artifacts while not completely ignoring your remaining artifacts for small AD boosts. If you find any errors or have any suggestions, feel free to reach out to me on reddit, /u/tsukinoooo</p>
					<p>During your first visit just work your way across the tabs to fill in information about your Playstyle, and then your current artifact levels. Lastly, on the Relics tab you'll put in your available relics and be taken to the Result tab to get your recommendations.</p>
					<p>Uncheck any artifacts you want to ignore, but leave any artifacts you don't have yet checked with a level of 0. I'll do my best to recommend when you should get a new artifact instead of upgrading your existing ones.</p>
					<p>OK! Now, you're ready to answer the following questions to improve the optimization of different artifacts to best suit your play style.</p>
					<form>
						<div class="form-row mb-4">
							<div class="form-group col-12 col-md-6 col-lg-3">
								<label for="build">Which build do you use?</label>
								<select class="form-control" id="build" onchange="adjustWeights();">
									<option value="hero">Hero</option>
									<option value="tap">Tap</option>
									<option value="pet">Pet</option>
									<option value="hs">Heavenly Strike</option>
									<option value="sc">Shadow Clone</option>
									<option value="cs">Clan Ship</option>
								</select>
							</div>
							<div class="form-group col-12 col-md-6 col-lg-3">
								<label for="hero">Which is your strongest hero?</label>
								<select class="form-control" id="hero" onchange="adjustWeights();">
									<option value="maya">Maya Muerta the Watcher</option>
									<option value="zato">Zato the Blind Staff Master</option>
									<option value="sophia">Sophia, Champion of Swords</option>
									<option value="lance">Lance, Knight of Cobalt Steel</option>
									<option value="pingo">Pingo of the Tori</option>
									<option value="rosabella">Rosabella Bonnie Archer</option>
									<option value="gulbrand">Gulbrand the Destroyer</option>
									<option value="davey">Captain Davey Cannon</option>
									<option value="rhys">Rhys Mage of Order Evetga</option>
									<option value="kronus">Kronus, Bringer of Judgement</option>
									<option value="cosette">Cosette, Jewel of House Sabre</option>
									<option value="kiki">Kiki the Dragon Rider</option>
									<option value="maddie">Maddie, Shadow Thief</option>
									<option value="beany">Beany Sprout the 1st</option>
									<option value="sawyer">Sawyer the Wild Gunslinger</option>
									<option value="ursa">Lil' Ursa</option>
									<option value="saje">Saje the Garden Keeper</option>
									<option value="wally">Wally Wat the Magician</option>
									<option value="jayce">Jayce the Ruthless Cutter</option>
									<option value="pharaoh">The Great Pharaoh</option>
									<option value="boomoh">Boomoh Doctor</option>
									<option value="dex">Dex-1000</option>
									<option value="cass">The Great Madame Cass</option>
									<option value="lala">Lala Quickshot</option>
									<option value="aya">Aya the Lightning Violet</option>
									<option value="lucy">Lady Lucy the Night Caster</option>
									<option value="jazz">Jazz Rockerfellow</option>
									<option value="maple">Maple the Autumn Guardian</option>
									<option value="kin">Kin the Puffy Beast</option>
									<option value="titania">Princess Titania of Fay</option>
									<option value="miki">Miki the Graceful Dancer</option>
									<option value="mina">Mina the Priestess of Light</option>
									<option value="yzafa">Yzafa the Fearsome Bandit</option>
									<option value="zolom">Zolom Blaster, Space Hunter</option>
									<option value="finn">Finn the Funny Guard</option>
									<option value="nohni">Nohni the Spearit</option>
									<option value="damon">Damon of the Darkness</option>
								</select>
							</div>
							<div class="form-group col-12 col-md-6 col-lg-3">
								<label for="active">Do you primarily play ...</label>
								<select class="form-control" id="active" onchange="adjustWeights();">
									<option value="online">Online</option>
									<option value="offline">Offline</option>
								</select>
							</div>
							<div class="form-check col-12 col-md-6 col-lg-3">
								<div class="mb-2">Choose a Theme</div>
								<div class="btn-group btn-group-toggle" data-toggle="buttons">
								  <label id="btnlamb" class="btn btn-info active">
								    <input type="radio" name="theme" id="lamb" autocomplete="off" checked onchange="toggleDark();"> Pure Lamb
								  </label>
								  <label id="btnwolf" class="btn btn-dark">
								    <input type="radio" name="theme" id="wolf" autocomplete="off" onchange="toggleDark();"> Dark Wolf
								  </label>
								</div>
							</div>
						</div>
					</form>
				</div>
			  <div class="tab-pane fade" id="artifactab" role="tabpanel" aria-labelledby="artifacts-tab">
					<p>Fill out the current level of your artifacts. If you want to ignore an artifact uncheck it. If you don't have it yet, set it to 0 and I'll attempt to prompt you when you should save up and roll the dice on a new artifact.</p>
					<p>AD Sanity Check: <span id="adsanity">0%</span></p>
					<button type="button" class="btn btn-primary mb-3" onclick="checkAll();">Check All Artifacts</button>
					<div class="col-12 col-md-8 col-lg-6">
						<div class="row mb-2 ml-2">
							Legend:
							<span class="badge badge-pill badge-info ml-2">All</span>
							<span class="badge badge-pill badge-success ml-2">Build</span>
							<span class="badge badge-pill badge-secondary ml-2">Partial</span>
							<span class="badge badge-pill badge-warning ml-2">Gold</span>
							<span class="badge badge-pill badge-danger ml-2">AD</span>
						</div>
						<table class="table table-striped table-sm">
							<thead>
								<tr>
									<th scope="col"></th>
									<th scope="col">Artifact</th>
									<th scope="col">Level</th>
									<th scope="col">Expo</th>
									<th scope="col">Info</th>
								</tr>
							</thead>
							<tbody id="artifacts">
							</tbody>
						</table>
					</div>
				</div>
			  <div class="tab-pane fade show active" id="reccs" role="tabpanel" aria-labelledby="reccs-tab">
					<p>Enter the total number of relics you're willing to spend to receive an upgrade list below. (Whole numbers on the left, decimals on the right.)</p>
					<p><em>Note: if this is your first visit, you'll want to head to the first tab and work your way over entering your data first.</em></p>
					<form class="mb-4">
						<label>Relics to Spend</label>
						<div class="input-group col-12 col-md-6 col-xl-4">
							<input type="tel" id="relics" class="form-control" placeholder="0" aria-label="whole numbers for relics">
							<span class="input-group-text px-1 rounded-0">.</span>
							<input type="tel" id="relics_decimal" class="form-control" placeholder="00" aria-label="decimals for relics">
							<select id="relic_factor">
								<option value="_"> </option>
								<option value="K">K</option>
								<option value="M">M</option>
								<option value="B">B</option>
								<option value="T">T</option>
								<option value="e13">e13</option>
								<option value="e14">e14</option>
								<option value="e15">e15/aa</option>
								<option value="e16">e16</option>
								<option value="e17">e17</option>
								<option value="e18">e18/ab</option>
								<option value="e19">e19</option>
								<option value="e20">e20</option>
								<option value="e21">e21/ac</option>
							</select>
						</div>
						<!--
						<div class="form-row col-9 mb-4">
							<div class="input-group">
								<div class="input-group-prepend">
									<div class="input-group-text">Force up to</div>
								</div>
								<input id="forcebos" type="tel" value="0">
								<select id="bos_type">
									<option value="level">levels</option>
									<option value="pct">% of relics</option>
								</select>
								<div class="input-group-append">
									<div class="input-group-text">of BoS</div>
								</div>
							-->
					</form>
					<form class="mb-4">
						<div class="form-check">
							<input type="checkbox" class="form-check-input" id="ocd" onchange="ocdOCD();">
							<label class="form-check-label" for="ocd">Enable &#x30BB;&#x30A4;&#x30A4;&#x30C1; Mode a.k.a. Force Crazy OCD Inefficient Rounding Down to even 100s<!--<br>
							(Note, this will even ignore any forced BOS requests above.)--></label>
						</div>
					</form>
					<button type="button" class="btn btn-primary mb-4" onclick="generateUpgrades()">Generate Upgrades</button>
				</div>
			  <div class="tab-pane fade" id="sugg" role="tabpanel" aria-labelledby="sugg-tab">
					<p>If you purchase all these upgrades, hit the Complete button to update the Artifact Status table and clear the results.</p>
					<p><small><em>Note: the first time you make a big jump in factor (e.g., e13 => e15) it can run a little slowly, but with each subsequent run at a given factor it will run faster and faster because the gap in your artifact levels will be greatly reduced. I'm continuing to look into ways to optimize this further.</em></small></p>
					<div class="row mb-2 ml-2">
						Legend:
						<span class="badge badge-pill badge-info ml-2">All</span>
						<span class="badge badge-pill badge-success ml-2">Build</span>
						<span class="badge badge-pill badge-secondary ml-2">Partial</span>
						<span class="badge badge-pill badge-warning ml-2">Gold</span>
						<span class="badge badge-pill badge-danger ml-2">AD</span>
					</div>
					<p id="new_artifact" class="ml-2"></p>
					<div class="col-12 col-md-8 col-lg-6 mb-4">
						<div class="progress mb-3" id="progressBar">
							<div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%" id="progress"></div>
						</div>
						<div id="suggestions"></div>
						<div id="accept"></div>
					</div>
				</div>
			</div>
		</div>

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-77025911-2"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
			gtag('config', 'UA-77025911-2');
		</script>

		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="js/jquery-3.2.1.slim.min.js"></script>
		<script src="js/bootstrap.bundle.min.js"></script>
		<script src="js/decimal.min.js"></script>
		<script src="js/data.js"></script>
		<script src="js/weights.js"></script>
		<script src="js/app.js"></script>
	</body>
</html>
